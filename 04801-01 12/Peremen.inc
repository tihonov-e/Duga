       
; ПЕРЕМЕННЫЕ	   
;******************************************************************

        ;*************  Переменные внутреннего ОЗУ в БИС AT89C51ED2. **********************************
       ;***** Версия 1.00 для микроконтроллера стенда настройки ДУГА.!!. ***********************
      ;!! ** ТЕстовый вариант 20.01.2011 **!!
     ;!! *****************************************************************************************!!
    ;!!******************************************************************************************!!
   ;!!******************************************************************************************!!


IPL0	EQU		0B8H	;ПРИОРИТЕТЫ ПРЕРЫВАНИЙ (LOW, HIGHT)
IPH0	EQU		0B7H


;*******************************************************************
;	СЛУЖЕБНЫЕ РЕГИСТРЫ TIMER 2
;*******************************************************************
T2CON	EQU		0C8H	; РЕГИСТР TIMER 2 (КОНТРОЛЬ+УПРАВЛЕНИЕ)
  TF2	EQU		T2CON.7	; ФЛАГ ПЕРЕПОЛЕНЕИЯ
  TR2	EQU		T2CON.2 ; ЗАПУСК СЧЕТЧИКА

T2MOD	EQU		0C9H	; РЕГИСТР TIMER 2 (УПРАВЛЕНИЕ)
TH2		EQU		0CDH	; СТАРШИЙ БАЙТОВЫЙ РЕГИСТР
TL2		EQU		0CCH	; МЛАДШИЙ БАЙТОВЫЙ РЕГИСТР
RCAP2H	EQU		0CBH	; Reload/Capture High Byte Register
RCAP2L	EQU		0CAH	; Reload/Capture LOW Byte Register
;*******************************************************************

;=============================================
; управление оптопарами дуга-ф
;==========================================
F_OUT_GND	EQU		P1.6   ; 0 ВЫХОД ВКЛ, 1-ВыКЛ

;*******************************************************************
;	Переменные управления буферами и регистрами
;*******************************************************************
CE_LED		EQU		P0.0
OE_LED		EQU		P0.1
CE_CHN		EQU		P0.2
OE_CHN		EQU		P0.3
OE_BTN1		EQU		P0.4
OE_BTN2		EQU		P0.5
OE_IN		EQU		P0.6
POW_ON1		EQU		P1.5

;*******************************************************************************************
POPRAVKA_LEFT_LCD  EQU  00H   ; Параметр поправки при адресации столбца LCD левой матрицы.
POPRAVKA_RIGHT_LCD EQU  02H   ; Параметр поправки при адресации столбца LCD правой матрицы.
;-----------------------------------------------------------------------------------------------------
ERROR			EQU		7EH		;НОМЕР ОШИБКИ ДЛЯ РИСОВАНИЯ
SEL_CHN			EQU		5BH		;ВЫБРАННЫЙ КАНАЛ ДУГИ

;*******************************************************************
; ВХОДЫ СТЕНДА
;*******************************************************************
; INPUT.0 - ВХ.1
; INPUT.1 - ВХ.2
; INPUT.2 - ВХ.3
; INPUT.3 - ВХ.4.1
; INPUT.4 - ВХ.4.2
; INPUT.5 - НДЗ
;*******************************************************************
INPUT			EQU		23H
IN_1			EQU		INPUT.0
IN_2			EQU		INPUT.1
IN_3			EQU		INPUT.2
IN_4_1			EQU		INPUT.3
IN_4_2			EQU		INPUT.4
IN_NDZ			EQU		INPUT.5

TIME_IN_ERROR		EQU		INPUT.7 	;ФЛАГ ВРЕМЕНИ СРАБАТЫВАНИЯ ВХОДА
										; 0 - ОШИБКА ВРЕМЕНИ, 1- НОРМ		
;*******************************************************************

;*******************************************************************

;*******************************************************************
TIME_1MS		EQU		24H	; ПЕРЕМННАЯ ИНКРЕМЕНТИРУЕТСЯ НА 1 КАЖДУЮ МС.	
;*******************************************************************
SLUG_D			EQU		25H	; СЛУЖЕБНАЯ БИТОВАЯ ПЕРЕМЕННАЯ	
		CONST_IMPULS	EQU		SLUG_D.0	; ДЛЯ ВКЛ/ВЫКЛ ПОСТОЯННОГО ИМУЛЬСА ОДНОЙ КНОПКОЙ
		
		FLAG_CH1		EQU		SLUG_D.1	; ФЛАГИ УСТАНОВКИ КАНАЛА
		FLAG_CH2		EQU		SLUG_D.2	; 0-УСТАНОВЛЕН	
		FLAG_CH3		EQU		SLUG_D.3	; 1-СБРОШЕН	
		FLAG_CH4		EQU		SLUG_D.4		
		FLAG_CH0		EQU		SLUG_D.5
		
		FLAG_OPROS_NDZ  EQU		SLUG_D.6	; FLAG_OPROS_NDZ=0 - ОПРАШИВАЕМ НДЗ В ЗАЩИТЕ ОТ ЗАВИСАНИЯ LISTEN_INP
		 									; FLAG_OPROS_NDZ=1 - НЕ ОПРАШИВАЕМ НДЗ В ЗАЩИТЕ ОТ ЗАВИСАНИЯ LISTEN_INP
		FLAG_AUTO		EQU		SLUG_D.7	; ФЛАГ АВТО РЕЖИМА. 0-АВТО, 1- МАНУАЛ

;*******************************************************************



;*******************************************************************
SLUG_E			EQU		22H	; СЛУЖЕБНАЯ БИТОВАЯ ПЕРЕМЕННАЯ	
	FLAG_SERVICE_MODE	EQU		 SLUG_E.0 ; УСТАНАВЛИВАЕТСЯ ДЛЯ ВХОДА В СЕРВИСНЫЙ РЕЖИМ
										  ; ПО НАЖАТИЮ КНОПКИ "ВКЛ" ПРИ ВКЛ. ПИТАНИЯ
	
	FLAG_NDZ_ERROR		EQU		 SLUG_E.1	; ЕСЛИ НДЗ СРАБОТАЛ РАНЬШЕ ВХОДА, ТО ВЫСТАВЛЯЕМ В 0
	; ИСПОЛЬЗУЕТСЯ В ПРОЦЕДУРЕ ПРОВЕРКИ ВХОДОВ

;*******************************************************************





;*******************************************************************
TAB2ML			EQU		26H		
TAB2ST			EQU		27H	 ; Служебные переменные инкрементируются на +1 по вектору
                       ; прерывания от флага TF2 таймера-счётчика T/C2,
                      ; после отрабатывания таймером T/C2
                     ; временного интервала 1 мс. (1000 мкс.)	


;********************************************************************************************
TEST_NUM			EQU		28H	 ; НОМЕР ТЕСТА АЛГОРИТМА (СМ. ТЗ НА ПрО)
STEP_NUM			EQU		29H	 ; НОМЕР ШАГА АЛГОРИТМА	 (СМ. ТЗ НА ПрО)
;********************************************************************************************




;********************************************************************************************
LED             EQU     2AH       ; Служебная битовая переменная управления
                                 ; светодиодами индикации.
                                ; Управляющий бит:="0" - включение светодиода.
;*********************************************************************************
LED_IN_1       EQU     LED.0           ; Бит управления светодиодом "Вых.1"
LED_IN_2       EQU     LED.1          ; Бит управления светодиодом "Вых.2"
LED_IN_3       EQU     LED.2         ; Бит управления светодиодом "Вых.3"
LED_IN_4_1     EQU     LED.3        ; Бит управления светодиодом "Вых.4.1"
LED_IN_4_2     EQU     LED.4       ; Бит управления светодиодом "Вых.4.2"
LED_IN_NDZ     EQU     LED.5      ; Бит управления светодиодом "НДЗ"
LED_OK         EQU     LED.6     ; Бит управления светодиодом "Годен"
LED_BAD        EQU     LED.7    ; Бит управления светодиодом "Негоден"
;*********************************************************************************

;----------------------------------------------------------
SLUG_C          EQU     2BH  ; Служебная битовая переменная.
;----------------------------------------------------------

TIMER_KVIT		EQU		2CH ; ВРЕМЯ ОЖИДАНИЯ КНОПКИ КВИТ В СЕК

;-------------------------------;-----------------------------
SLUG_A          EQU     2DH    ; Служебная битовая переменная.
;-----------------------------;-----------------------------
SLUG_B          EQU     2EH  ; Служебная битовая переменная.

;***************************************************************************************



;---------------------------;------------------------------
SLUG            EQU     2FH; Служебная битовая переменная.
;-----------------------------------------------------------------------------------------


 ;=== Определение выводов портов для ввода команд управления ====================
;=== с буферов кнопок :
;** 26-01-2011 ************; **************************  Кнопки с регистра OE_BTN1 (D6):**************************
                          ;               	"Питание Вкл"  -P2.4/D4: "0"- есть сигнал, кнопка нажата .
                         ;               	"Питание Выкл"  -P2.5/D5
                        ;               	 "Тест" 		-P2.5/D5
                       ;              		 "Сброс" 		-P2.5/D5
                      ;*****************************************************************************************

PORT_POW_ON     EQU     P2.4                                 ;кнопка Питание вкл .
PORT_POW_OFF    EQU     P2.5                                ;кнопка питание выкл.
PORT_TEST     	EQU     P2.6                               ;кнопка Тест
PORT_RES    	EQU     P2.7                              ;кнопка Сброс



; **************************  Кнопки с регистра OE_BTN2 (D5):**************************
                          ;               	"12ms"  -P2.0/D0: "0"- есть сигнал, кнопка нажата .
                         ;               	"21ms"  -P2.1/D1
                        ;               	"300ms" -P2.2/D2
                       ;              		"1100ms"-P2.3/D3
					  ;						"OK" 	-P2.4/D4
			         ;						"SELECT"-P2.5/D5
                      ;*****************************************************************************************

PORT_12MS   	EQU     P2.0                             ;============================================
PORT_21ms  		EQU     P2.1                            ;============================================
PORT_300ms   	EQU     P2.2                           ;============================================
PORT_1100ms  	EQU     P2.3                          ;============================================
PORT_OK  		EQU     P2.4                          ;============================================
PORT_SEL  		EQU     P2.5                          ;============================================

;=================================================================================================


; **************************  ГАЛЕТНИК с регистра OE_BTN1 (D6):**************************
                          ;               	"КАНАЛО"  	-P2.0/D0: "0"- есть сигнал, кнопка нажата .
                         ;               	"КАНАЛ1"  	-P2.1/D1
                        ;               	"КАНАЛ2" 	-P2.2/D2
                       ;              		"КАНАЛ3"	-P2.3/D3
					  ;						"КАНАЛ4" 	-P2.4/D4
			         ;						
                      ;*****************************************************************************************

PORT_CHN_1  	EQU     P2.3                            ;============================================
PORT_CHN_2   	EQU     P2.2                           ;============================================
PORT_CHN_3  	EQU     P2.1                          ;============================================
PORT_CHN_4  	EQU     P2.0                          ;============================================

;ПРИМЕЧАНИЕ: НЕ СООТВЕТСТВИЕ СХЕМЫ И ЖЕЛЕЗА
;=================================================================================================

   ;=================================================================
  ;=== Определение битовых переменных, возвращаемых в пп.       ====
 ;=== TTI_S, после проверки нажатий клавиш.                    ====
;=== с кнопок . ============================================
POW_ON          EQU     SLUG_A.0        ;   "Сброс/Стоп"       ;=	;============================= 
POW_OFF         EQU     SLUG_A.1       ;   "Тест"             ;=
TEST          	EQU     SLUG_A.2      ;   "Вкл."             ;=		 ;КНОПКИ РЕГИСТРА OE1_BTN1 (D6)
RES         	EQU     SLUG_A.3     ;   "Откл."            ;=		;=============================


S_12MS        	EQU     SLUG_A.4    ;   "12MS"     ;=				;=============================
S_21MS       	EQU     SLUG_A.5   ;   "21MS"    ;=
S_300MS       	EQU     SLUG_A.6   ;   "300"    ;=
S_1100MS       	EQU     SLUG_A.7   ;   "1100"    ;=					;КНОПКИ РЕГИСТРА OE2_BTN2 (D5)
S_OK       		EQU     SLUG_C.0   ;   "OK"    ;=
S_SEL       	EQU     SLUG_C.1   ;   "SELECT"    ;=				;=============================

CHN_0			EQU		SLUG_C.2   ;   "КАНАЛ0" 					;=============================
CHN_1			EQU		SLUG_C.3   ;   "КАНАЛ1" 
CHN_2			EQU		SLUG_C.4   ;   "КАНАЛ2" 					;ГАЛЕТНИК РЕГИСТРА OE2_BTN1 (D6)
CHN_3			EQU		SLUG_C.5   ;   "КАНАЛ3" 
CHN_4			EQU		SLUG_C.6   ;   "КАНАЛ4" 					;=============================

;********************************************************
INTENS			EQU		SLUG_C.7		; ИНТЕНСИВНОСТЬ (#0-MAX, #1-MIN)
;==========================================================


;********** Битовые признаки для библиотеки Rs232_bu.asm.******************************

BIT_COMAND_01H          EQU     SLUG.0  ; "1": Признак прихода команды 01H в пакете RS232:
                                       ; <Загрузка информации в буфер индикации>

BIT_NO_PAGE             EQU     SLUG.1; Признак номера страницы "0" или "1" для
                                     ; команды 01H

BIT_OUT_PAGE            EQU     SLUG.2 ; Признак страницы (буфера индикации) выведеной
                                      ; последней на индикатор.
;****************************************************************************************


BIT_MENU_REGIM          EQU     SLUG.3; Бит признака (при сброшенном бите в "0")
                                     ; обхода выполнения пп. выбора режимов А1/А2 MENU_REGIM.
                                    ; Бит анализируется и сбрасывается в "0" в самой пп. Menu_Regim.
;**********************************************************************************************
Bit_Begin_T_EM          EQU     SLUG.4 ; Бит отслеживания начала разряда напряжения
                                      ; на ЭМ1/ЭМ2.
Bit_Begin_Max_U         EQU     SLUG.5 ; Бит отслеживания начала появления максимального напряжения
                                      ; на ЭМ1/ЭМ2.
;***************************************************************************************
Bit_OTKL_U              EQU     SLUG.6  ; Бит признака режима отключения напряжения питания БУВВ.
                                       ; (Активный - "1").
Bit_OTKL_I              EQU     SLUG.7; Бит признака режима отключения тока питания БУВВ.
                                     ; (Активный - "1").
;***************************************************************************************

;*******************************************************************************************
; == Определение регистра управления мощностью:
//PCON            EQU     87H
;--------------------------------------------------------------------------


;----------------------------------------------------------------------------------------
AUXR            EQU     8EH     ; Определение регистра управления внутренней расширеной
                               ; оперативной памятью - до 1792 байт, через "MOVX" инструкции.
EECON           EQU     0D2H  ; Определение регистра SFR - EECON для управление памятью EEPROM.
;-------------------------------------------
;*********************************************************************************************


;=== Определение выводов портов для управления индикатором. ==============
;R_S1  = P2.0 ; сигнал выбора регистра                                  =
;R_W1  = P2.1 ; сигнал выбора операции чтения/записи                   =
;----------------------------------------------------------------------
;E1    = P1.5 ; тактовый сигнал контроллера LCD левой и правой матрицы.
;CS1   = P1.6 ; строб контроллера LCD левой матрицы.                -
;CS2   = P1.7 ; строб контроллера LCD правой матрицы.              -
;------------------------------------------------------------------

E1              EQU     P1.0 
CS1             EQU     P1.1
CS2             EQU     P1.2
R_S1            EQU     P1.3                                   ; -
R_W1            EQU     P1.4                                  ; -
                                                             ; -
;---------------------------                                ; -
                              ; -
                              ; -


RST				EQU		P3.5
                             ; -
;==========================================================



;==========================================================
;==========================================================

BufferIND_1     EQU     0000H ; Начальный адресный вектор пользовательского буфера индикации страницы 1
                             ; в оперативной памяти XRAM.
                            ; Обращение к данным буфера - через команды MOVX A,@DPTR; MOVX @DPTR,A.
                           ; Фиксированная длина буфера 1792 байт (для микроконтроллера AT89C51ED2).
                          ; ************************************************************************


;---------------------  Байты-признаки в EEPROM для энергонезавмсимого хранения. ------------------------
PRIZN_SPEED     EQU     0080H; Байт-признак скорости обмена по RS232: 00H - 9600 бод.; A5H - 19200 бод.
                            ;                                        A8H - 38400 бод.;5AH - 57600 бод.
;-------------------------------------------------------------------------------------------------------

PRIZN_OS_TS     EQU     0100H; Байт-признак режима протокола обмена по RS232:
                            ; 00H - OS(односторонний обмен); <>00H - TS(двухсторонний обмен).

;-------------------------------------------------------------------------------------------------------
PRIZN_COUNTR    EQU     0180H; Байт-признак страны (на 10.04.2007 г.- резервный: пока безусловно-Россия).
;-------------------------------------------------------------------------------------------------------


PRIZN_ONE_ON    EQU     0200H; Байт-признак первого включения: <>A5H - ПЕРВОЕ включение индикатора;
                            ;                                  =A5H - НЕ ПЕРВОЕ включение индикатора.
  ; Необходим для установок настроек скорости обмена и протокола (впоследствии и признака страны)
 ; по умолчанию, при первом включении индикатора. По умолчанию ставится: признак -OS; скорость -19200 бод.
;-------------------------------------------------------------------------------------------------------
;==========================================================
;==========================================================




     ;*********************************************************************************************
    ;*** Адрес байта в EEPROM с параметром времени (в сек.) автоматического
   ;*** отключения питания током (при отсутствии команд с кнопок).                   ************
  ;* (Данные параметра заносяться в EEPROM программным обеспечением верхнего уровня)************
 ;*Или в ручном режиме с помощью кнопок: вход в режим при зажатой кнопке "Ток вкл" при старте.*
;*********************************************************************************************
Avtomat_I_otkl          EQU     02FFH
;********************************************************************************************************

;--------------------------------------------------------------------------------------------------------
_R              EQU     00H     ; Для сохранения в стеке регистров R0...R7.

SPEED           EQU     30H   ; Отслеживающая переменная признака скорости обмена по RS232
                             ; в оперативной памяти.  00H - 9600 бод.; A5H - 19200 бод.
                            ;                        A8H - 38400 бод.;5AH - 57600 бод.
;--------------------------; ;--------------------------------------------------------------------------
OS_TS           EQU     31H  ; Отслеживающая переменная признака OS-TS в оперативной памяти.
                            ; 00H - OS(односторонний обмен); <>00H - TS(двухсторонний обмен).
                           ;----------------------------------------------------------------

NO_ZNAKOMESTA   EQU     32H ;  Вспомогательная служебная переменная в библиотеке Rs232_93.asm.      ---
KOL_SIMVOLOV    EQU     33H;  Вспомогательная служебная переменная в библиотеке Rs232_93.asm.      ---
                          ;                                                                       ---
OST_ZAGR_SIMVOLOV  EQU  34H;  Вспомогательная служебная переменная в библиотеке Rs232_93.asm.    ---
;--------------------------------------------------------------------------------------------------

;-------------------------------------------------------------------------------------------------
zp_st           EQU     35H    ; Вспомогательные служебные переменные, используемые           ---
zp_ml           EQU     36H   ; в библиотеке задержек.                                       ---


;-----------------------------;
STB0            EQU     37H  ;Переменные "столбцов" знака графического индикатора, в которые
STB1            EQU     38H ;считываются коды знакогенератора, перед выводом знака на индикатор.
STB2            EQU     39H;(вместе со столбцом разделителя знаков, считываемым в переменную STB5.)
STB3            EQU     3AH
STB4            EQU     3BH
STB5            EQU     3CH
;-----------------------;
POZITION        EQU     3DH ; Общая отслеживающая переменная контроллеров LCD левой
                           ; и правой матрицы - позиции номера знака в строке -
                          ; - 20 знаков (от 0...до 19 /00H...13H).

POZ_STR         EQU     3EH ; Общая отслеживающая переменная контроллеров LCD левой
                           ; и правой матрицы - позиции строки  для знака -
                          ; - 8 строк (от 0...до 7 /00H...07H).
;------------------------;
KOL_SIMV        EQU     3FH; Переменная количества выводимых символов при выводе строк на индикатор.
;-------------------------;
UKAZ_KUR_MENU   EQU     40H  ; Указатель курсора для режима установки настроек.
;--------------------------------------------------------------------------------------------------------
PR_VIDELEN      EQU     41H; Признак выделения выводимых знаков: если PR_VIDELEN = 01H
                          ; то выводимый знак выводится в негативном (инверсном) виде при :
                         ; выполнении подпрограммы считывания кодов знакогенератора: LcdTrans.
                        ; Если PR_VIDELEN = 02H то выводимый знак выводится в "рамке"
                       ; (без правой линии рамки).
                      ;********************************************************************

;***********************************
TAB3ML          EQU     42H
TAB3ST          EQU     43H
;***********************************


;**************************************************************************
TAB4ML          EQU     44H
TAB4ST          EQU     45H
                        ; Служебные переменные инкрементируются на +1 по вектору
                       ; прерывания от флага TF0 таймера-счётчика T/C0,
                      ; после отрабатывания таймером T/C0
                     ; временного интервала 0,5 мс. (1000 мкс.)
;******************************

;*****************************
R_01            EQU     46H


;****************************

;**********************************
DECST           EQU     47H
DECML           EQU     48H
;********************************
IZMML           EQU     49H
IZMSR           EQU     4AH
IZMST           EQU     4BH
;**********************************
ML_RAZR         EQU     4CH
SR_RAZR         EQU     4DH
ST_RAZR         EQU     4EH
;******************************
SLC             EQU     4FH
SLD             EQU     50H
;****************************


;********************************;
;*****************************;
Gashenie_ml     EQU     51H
Gashenie_st     EQU     52H
                      ; Служебные переменные для хранения времени подсветки.
                     ; (30 сек.[1500] или 60 сек.[3000] или 120 сек.[6000]) с кратностью 20 мс..
                    ; - т.е. параметр кратности обусловлен временем переполнения
                   ; счётчика-таймера T/C0. (1 сек. = 50-ти параметрам кратности).
;*****************;

;*****************************;
Ct_Gashenie_ml  EQU     53H  ;
Ct_Gashenie_st  EQU     54H ;
                      ; Программный счётчик для подсчёта времени подсветки,
                     ; (30 сек.[1500] или 60 сек.[3000] или 120 сек.[6000]) с кратностью 20 мс..
                    ; - т.е. параметр кратности обусловлен временем переполнения
                   ; счётчика-таймера T/C0. (1 сек. = 50-ти параметрам кратности).
 ;****************;

Gashenie_ml_A   EQU     55H     ; Вспомогательные служебные переменные для
Gashenie_st_A   EQU     56H    ; временного хранения данных времени подсветки
;**************************   ; и программного счётчика подсветки, в случае
Ct_Gashenie_ml_A  EQU   57H  ; режима гашения при печати термопринтером.
Ct_Gashenie_st_A  EQU   58H ; **********************************************
                           ;
;*************************;
UPR_ST          EQU     59H; Выходные переменные для считанного кода АЦП AD7893AN-5.
UPR_ML          EQU     5AH
;**********************;

BufferIND_0     EQU     5FH   ; Начальный адресный вектор пользовательского буфера индикации страницы 0
                             ; в базовой оперативной памяти.
                            ; Фиксированная длина буфера 160 байт (8 строк х 20 символов)
                           ; 5FH - FEH (95-254)   (94+160=254).
                          ; !!! Совпадает с данными ASCII Analiz_Paket_test_78буфера последовательного порта: ,
                         ; !!! при этом байт с адресом FFH (255) оперативной памяти отведён
                        ; !!! под контрольную сумму serialBufer (в режиме TS).
                       ; Обращение к данным буфера через косвенную адресацию, командами:
                      ; MOV A,@R0(R1); MOV @R0(R1),A.


;=================================================================
;== Переменные используемые в отладочном тесте индикации кода АЦП.
;================================================================
KOD_C           EQU     60H
KOD_DR1         EQU     61H
KOD_DR2         EQU     62H
KOD_DR3         EQU     63H
KOD_DR4         EQU     64H
;==========================


POVT_VKL_OTKL   EQU     7BH           ; Признак повтора выполнения команд ВКЛЮЧЕНИЯ/ОТКЛЮЧЕНИЯ.
                                     ; (Количество повторов равно значению POVT_VKL_OTKL >0 )


PROXOD_TEST_A   EQU     7CH        ; Вспомогательный признак прохода тестовых режимов автоматического отключения
                                  ; (Начальная установка PROXOD_TEST_A:=1


PROXOD_TEST     EQU     7DH        ; Признак прохода тестовых режимов автоматического отключения
                                  ; (Начальная установка PROXOD_TEST:=2 - с активным входом BK_A_OTKL)
;****************************************************************************************************
;=========================================================================
REGIM_A1_2      EQU     21H     ; Признак режима работы с ДУГА
;	   #                  11111110B   - РЕЖИМ "ДУГА-О"			#
;	  #                  11111101B   - РЕЖИМ "ДУГА-Ф"		   #
;	 #                  11111011B   - РЕЖИМ "ДУГА-Т"		  #

REGIM_DUGA_O	EQU		REGIM_A1_2.0  ; ФЛАГИ РЕЖИМОВ
REGIM_DUGA_F	EQU		REGIM_A1_2.1
REGIM_DUGA_T	EQU		REGIM_A1_2.2
;=======================================================================


;*************************************************************************************************
MASS            EQU     80H ; Область массива (32 байт) при служебном режиме чтения данных EEPROM.
;***********************************************************************************************

;;ST_STOLB_11     EQU     41H ; Счётчик столбцов 11-го знака:
;;                           ; (4-ре первых столбца - левая LCD матрица
;;                          ;  2- последних столбца - правая LCD матрица).




         ;!! *************************************************************
        ;!! 29-05-2008. Битовый признак режима широкого шрифта на
       ;!! дисплее кассира: 16 символов х 4 строки. *********************
Bit_Mode_16x4         EQU     SLUG_B.4 ; "0" - обычный шрифт 21 символ х 8 строк
                                      ; формат знака 5х7 пикселей.
                                     ; "1" - широкий шрифт 16 символов х 4 строки
                                    ; формат знака 6х10 пикселей.
     ;******************************************************************


         ;!! *************************************************************
        ;!! 03-06-2008. Битовый признак режима широкого шрифта на
       ;!! дисплее кассира: 12 символов х 4 строки. *********************
Bit_Mode_12x4         EQU     SLUG_B.5 ; "0" - обычный шрифт 21 символ х 8 строк
                                      ; формат знака 5х7 пикселей.
                                     ; "1" - широкий шрифт 12 символов х 4 строки
                                    ; формат знака 8х14 пикселей.
     ;******************************************************************


Bit_Command_Mode      EQU     SLUG_B.6
      ;!! ******************************************************************
     ;!! 09-06-2006. Командный битовый признак режима шрифта на дисплее кассира:
    ;!! устанавливается после приёма командного пакета выбора шрифта:
                                 ; "0" - обычный шрифт 21 символ х 8 строк
                                ; формат знака 5х7 пикселей.
                               ; "1" - широкий шрифт 16 символов х 4 строки
                              ; формат знака 6х14 пикселей.
;************************************************************************


Bit_Proced_Out_Simv   EQU     SLUG_B.7
      ;!! ******************************************************************
     ;!! 17-06-2006. Командный битовый признак режима вывода множества символов
    ;!! на дисплей кассира: используется для подпрограммы обработки параметров
   ;!! позиции строки и количества символов, в случае режима широкого шрифта
  ;!! 16 симмволов х 4 строки: LcdStrWriteSt_serialBufer_Sm_An. ************
                                 ; "0" - вывод одиночного символа, при этом
                                ; переменная KOL_SIMV:=1, в начале данной пп.
                               ; "1" - вывод множества символов, при этом
                              ; переменная KOL_SIMV в начале данной пп.
                             ; не модифицируется.
;************************************************************************


;*** 06-05-2010 ***************
//INPUT_TEST      EQU     P3.0;* Вход для проверки выхода
;** 06-05-2010 ************** в тестовый режим микроконтролера
                          ;* блока индикации: "0" на входе INPUT_TEST
                         ;* переход в тестовый режим. ***************


;******************************************************************
